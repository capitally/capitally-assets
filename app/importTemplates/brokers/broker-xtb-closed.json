{
  "version": 3,
  "type": "Capitally Data Export",
  "exportedAt": "2024-03-30T15:12:33.149Z",
  "data": {
    "importTemplates": {
      "u-broker-xtb-closed": {
        "id": "u-broker-xtb-closed",
        "name": "XTB - Closed positions",
        "author": "Capitally",
        "info": "This template will import *only* your closed positions from XTB. To import all transactions, use the XTB template.\n\n1. Go to [xStation](https://xstation5.xtb.com/)\n1. Open **History/Historia** → **Closed positions/Zamknięte pozycje** \n1. Choose timeframe\n1. Click **Export/Eksportuj** → **CSV** and download it\n1. Open or drop that file here\n\nℹ️ Please note that dividends are not imported - they're generated by the app, but you will need to update their date and value manually if you need accuracy.\n",
        "logoUrl": "/static/brokers/xtb.png",
        "group": "Brokers",
        "updatedAt": "2023-05-04",
        "parser": {
          "id": "csv",
          "csv": {
            "replace": [["/^.+$/gm", "$&;Open\n$&;Close"]],
            "skipUntil": "1"
          }
        },
        "resolver": {
          "id": "transaction",
          "columns": {
            "$account": {
              "prop": "account",
              "mapping": {
                "type": "value",
                "value": {
                  "$template": "XTB",
                  "name": "XTB",
                  "icon": {
                    "type": "logo",
                    "id": "brokers/xtb"
                  }
                }
              }
            },
            "Symbol": {
              "prop": "asset"
            },
            "$type": {
              "prop": "type",
              "mapping": {
                "type": "formula",
                "value": "=col('Close')"
              }
            },
            "$date": {
              "prop": "date",
              "mapping": {
                "type": "formula",
                "value": "=col('Close') == 'Close' ? col('Close time') : col('Open time')"
              }
            },
            "Lots": {
              "prop": "qty"
            },
            "$price": {
              "prop": "price",
              "mapping": {
                "type": "formula",
                "value": "=col('Close') == 'Close' ? col('Close price') : col('Open price')"
              }
            }
          }
        },
        "generator": {
          "id": "transaction"
        }
      }
    }
  }
}
